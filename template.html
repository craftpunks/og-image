<html>

<head>
    <style>
        * {
            box-sizing: border-box;
        }
        
        body,
        section {
            width: 800px;
            height: 320px;
            position: relative;
        }
        
        body.debug .text {
            background: palegreen;
        }
        
        body.debug .domain {
            background: palevioletred;
        }
        
        body.debug .spy {
            background: orange;
        }
        
        .rectangle {
            position: absolute;
            top: 10px;
            right: 10px;
            bottom: 10px;
            left: 10px;
            border: 3px solid #000;
        }
        
        .text {
            position: absolute;
            top: 30px;
            right: 30px;
            left: 30px;
            bottom: 100px;
            /*word-break: break-all;*/
        }
        
        .domain {
            position: absolute;
            right: 30px;
            left: 30px;
            bottom: 30px;
            font-size: 22px;
        }
        
        .spy {
            font-size: 16px;
            display: inline-block;
        }
    </style>

</head>

<body class="|body-css|">
    <section>
        <div class="rectangle"></div>
        <!--
            <div class="text" style="font-size:|font|px; line-height:|lineHeight|px;">|text|</div>
        -->
        <div class="text">
            <div class="spy">|text|</div>
        </div>
        <div class="domain">|domain|</div>
    </section>
</body>

<script>
    function updateSize() {
        const wrapper = document.querySelector('.text').getBoundingClientRect()
        const text = document.querySelector('.spy')
        let inside = true
        let size = 16;

        while (inside) {
            const pos = text.getBoundingClientRect()
            const height = pos.height
            const width = pos.width

            if (height > wrapper.height || width > wrapper.width) {
                inside = false
                size -= 1
            } else {
                size += 1
            }

            text.style.fontSize = size + 'px'
        }
    }

    (function() {
        updateSize()
    })()
</script>

</html>